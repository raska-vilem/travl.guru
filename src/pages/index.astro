---
import { readItems, readSingleton } from '@directus/sdk';
import ThemeToggle from '@/atoms/theme-toggle.astro';
import DefaultLayout from '@/layouts/default.astro';
import { directusRequest } from '@/lib/directus';
import WelcomeHero from '@/organisms/welcome-hero.astro';
import Locations from '@/templates/locations.astro';

const main = await directusRequest(readSingleton('main_info'));
const locations = await directusRequest(readItems('location', { fields: ['location_image', 'name', 'slug'] }));
---

<DefaultLayout title={ main.welcome_title }>
    <ThemeToggle class="absolute top-3 right-3 z-10" />

    <div class="flex flex-col w-full">
        <WelcomeHero />

        <div class="divider"></div>

        <Locations locations={locations}/>
    </div>
</DefaultLayout>
